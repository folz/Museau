{% extends "loggedin.html" %}

{% block content %}

<div class="row">
	<div id="station" class="span2">
		<ul class="nav nav-tabs nav-stacked">
			<li data-bind="text: currentStation['stationName']"></li>
		</ul>
		<ul class="nav nav-tabs nav-stacked" data-bind="foreach: stations">
			<li>
				<a href="#" data-bind="click: function() { switchStation($data) }">
					<span data-bind="text: stationName"></span>
				</a>
			</li>
		</ul>
	</div>
	
	<div class="row span9">
		<div id="radio">
			<div id="jquery_jplayer_1" class="jp-jplayer" data-bind="jPlayer: ''"></div>
			
			<div id="jp_container_1" class="jp-audio">
				<div class="jp-type-single">
					<div class="jp-gui jp-interface">
						<div class="jp-controls btn-group pull-left">
							<button class="btn">-1</button>
							<button class="btn">+1</button>
						</div>
						<div class="jp-controls btn-group pull-left">
							<button class="btn" data-bind="click: function() { nextSong() }">&lt;&lt;</button>
							<button href="javascript:;" class="btn jp-play" tabindex="1">play</button>
							<button href="javascript:;" class="btn jp-pause" tabindex="1">pause</button>
							<button class="btn" data-bind="click: function() { nextSong() }">&gt;&gt;</button>
						</div>
						<div class="pull-left">
							<a data-bind="attr: { href: songUrl }">Download</a>
							<span>(right click, Save As)</span>
						</div>
						<div class="jp-progress">
							<div class="jp-seek-bar">
								<div class="jp-play-bar"></div>
							</div>
						</div>
						<div class="jp-volume-bar">
							<div class="jp-volume-bar-value"></div>
						</div>
						<div class="jp-time-holder">
							<div class="jp-current-time"></div>
							<div class="jp-duration"></div>
						</div>
					</div> <!-- .jp-gui.jp-interface -->
					<div class="jp-no-solution">
						<span>Update Required</span>
						To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.
					</div> <!-- .jp-no-solution -->
				</div> <!-- .jp-type-single -->
			</div> <!-- #jp-container-1.jp-audio -->
		</div> <!-- #radio -->

		<div class="jp-title">
			<ul>
				<li>Now playing
					<span data-bind="text: currentSong"></span>
				</li>
			</ul>
		</div> <!-- .jp-title -->
	</div>
	<div id="history" class="row span9 offset2">
		<ul class="nav nav-tabs nav-stacked" data-bind="foreach: history">
			<li>
				<a href="#" style="overflow: auto" data-bind="click: function() { forceUpdateHistory($data) }">
					<img class="pull-left" width="100px" height="100px" data-bind="attr: { src: albumArt() } " />
					<span data-bind="text: $data"></span>
				</a>
			</li>
		</ul>
	</div>
</div>



{% endblock %}

{% block scripts %}
		, '{{ STATIC_URL }}js/bootstrap.js'
		, '{{ STATIC_URL }}js/jquery.tmpl.js'
		, '{{ STATIC_URL }}js/knockout-2.0.0.js'
		, '{{ STATIC_URL }}jplayer/jquery.jplayer.min.js'
		, '{{ STATIC_URL }}jplayer/add-on/jquery.jplayer.inspector.js'
		, '{{ STATIC_URL }}js/init.js'
{% endblock %}
